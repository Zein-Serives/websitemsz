function formatEUR(v){return new Intl.NumberFormat('de-DE',{style:'currency',currency:'EUR'}).format(v)}
function t(){const l=document.documentElement.lang||'de';return l==='en'?{sub:'Subtotal (reference): ',fin:'Relaunch -15% (reference): ',night:'Night/Sun/PH (+25%)'}:l==='ar'?{sub:'المجموع الفرعي (مرجعي): ',fin:'خصم الإطلاق 15٪ (مرجعي): ',night:'ليل/أحد/عطلة (+25%)'}:{sub:'Zwischensumme (Richtwert): ',fin:'Relaunch –15 % (Richtwert): ',night:'Nacht/So/FT (+25 %)'}}
function calc(){const km=parseFloat(document.getElementById('km')?.value||0),h=parseFloat(document.getElementById('hours')?.value||0),d=parseFloat(document.getElementById('days')?.value||0);const m=document.querySelector('input[name=mode]:checked')?.value||'km';const night=document.getElementById('night')?.checked;const base={km:0.95,hour:39,day:290};let total=0;if(m==='km')total=km*base.km;if(m==='hour')total=h*base.hour;if(m==='day')total=d*base.day;if(night)total*=1.25;const disc=total*0.85;const L=t();document.getElementById('price-raw').textContent=L.sub+formatEUR(total);document.getElementById('price-final').textContent=L.fin+formatEUR(disc);}document.addEventListener('input',e=>{if(e.target.closest('#calc'))calc()});document.addEventListener('change',e=>{if(e.target.closest('#calc'))calc()});window.addEventListener('DOMContentLoaded',calc);